<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>NCEPLIBS-bufr: ufbtab.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bufr
   &#160;<span id="projectnumber">11.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ufbtab_8f.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">ufbtab.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read one or more data values from every data subset in a BUFR file.  
<a href="#details">More...</a></p>

<p><a href="ufbtab_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4fb9c0d69c11bdc6e218f81de3dc6025"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ufbtab_8f.html#a4fb9c0d69c11bdc6e218f81de3dc6025">ufbtab</a> (LUNIN, TAB, I1, I2, IRET, STR)</td></tr>
<tr class="memdesc:a4fb9c0d69c11bdc6e218f81de3dc6025"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine reads through every data subset in a BUFR file and returns one or more specified data values from each subset.  <a href="#a4fb9c0d69c11bdc6e218f81de3dc6025">More...</a><br/></td></tr>
<tr class="separator:a4fb9c0d69c11bdc6e218f81de3dc6025"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read one or more data values from every data subset in a BUFR file. </p>

<p>Definition in file <a class="el" href="ufbtab_8f_source.html">ufbtab.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a4fb9c0d69c11bdc6e218f81de3dc6025"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbtab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2)&#160;</td>
          <td class="paramname"><em>TAB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*)&#160;</td>
          <td class="paramname"><em>STR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine reads through every data subset in a BUFR file and returns one or more specified data values from each subset. </p>
<p>This provides a useful way to scan the ranges of one or more specified data values across an entire BUFR file.</p>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNIN</td><td>&ndash; integer: Absolute value is Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TAB</td><td>&ndash; real*8(*,*): Data values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">I1</td><td>&ndash; integer: Actual first dimension of TAB as allocated within the calling program </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">I2</td><td>&ndash; integer: Actual second dimension of TAB as allocated within the calling program </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IRET</td><td>&ndash; integer: Number of data subsets in BUFR file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">STR</td><td>&ndash; character*(*): String of blank-separated Table B mnemonics, in one-to-one correspondence with the number of data values that will be read from each data subset within the first dimension of TAB (see <a class="el" href="md__gpfs_dell2_emc_obsproc_noscrub_Jeff_8Ator_NCEPLIBS-bufr-GitHub_nceplibs-bufr_docs_dfbftab.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<p>It is the user's responsibility to ensure that TAB is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from the BUFR file. Specifically, each row of TAB will contain the data values read from a different data subset, so the value I2 must be at least as large as the total number of data subsets in the BUFR file.</p>
<p>If logical unit ABS(LUNIN) has already been opened via a previous call to subroutine <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations. ">openbf()</a>, then this subroutine will save the current file position, rewind the file to the beginning, read through the entire file, and then restore it to its previous file position. Otherwise, if logical unit ABS(LUNIN) has not already been opened via a previous call to subroutine <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations. ">openbf()</a>, then this subroutine will open it via an internal call to subroutine <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations. ">openbf()</a>, read through the entire file, and then close it via an internal call to subroutine <a class="el" href="closbf_8f.html#a00c94986037d2cf27d04de7a1f8a3ebc" title="This subroutine closes the connection between logical unit LUNIT and the BUFRLIB software. ">closbf()</a>.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If LUNIN &lt; 0, the number of data subsets in the BUFR file will still be returned in IRET; however, STR will be ignored, and all of the values returned in TAB will contain the current placeholder value for "missing" data.</li>
<li>If any of the Table B mnemonics in STR are replicated within the data subset definition for the BUFR file, then this subroutine will only return the value corresponding to the first occurrence of each such mnemonic (counting from the beginning of the data subset definition) within the corresponding row of TAB.</li>
</ul>
</dd></dl>
<p><b>Program history log:</b> </p>
<table class="doxtable">
<tr>
<th>Date </th><th>Programmer </th><th>Comments  </th></tr>
<tr>
<td>1994-01-06 </td><td>J. Woollen </td><td>Original author </td></tr>
<tr>
<td>1998-07-08 </td><td>J. Woollen </td><td>Replaced call to Cray library routine "ABORT" with call to new internal routine <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4" title="This subroutine calls subroutine errwrt() to log an error message, then calls subroutine bort_exit() ...">bort()</a> </td></tr>
<tr>
<td>1999-11-18 </td><td>J. Woollen </td><td>The number of BUFR files which can be opened at one time increased from 10 to 32 </td></tr>
<tr>
<td>2000-09-19 </td><td>J. Woollen </td><td>Maximum length increased from 10,000 to 20,000 bytes </td></tr>
<tr>
<td>2002-05-14 </td><td>J. Woollen </td><td>Removed old Cray compiler directives </td></tr>
<tr>
<td>2003-11-04 </td><td>D. Keyser </td><td>Modified to not abort when there are more than I2 data subsets, but instead just process first I2 subsets and print a diagnostic </td></tr>
<tr>
<td>2003-11-04 </td><td>D. Keyser </td><td>Increased MAXJL from 15000 to 16000; modified to use <a class="el" href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96" title="THIS SUBROUTINE, DEPENDING ON THE VALUE OF ISR, WILL EITHER: 1) STORE THE CURRENT PARAMETERS ASSOCIAT...">rewnbf()</a>; upgraded to allow reading from a file that has already been opened via <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations. ">openbf()</a> </td></tr>
<tr>
<td>2004-08-09 </td><td>J. Ator </td><td>Maximum message length increased from 20,000 to 50,000 bytes </td></tr>
<tr>
<td>2005-09-16 </td><td>J. Woollen </td><td>upgraded to work for compressed BUFR messages, and to allow for LUNIN &lt; 0 option </td></tr>
<tr>
<td>2006-04-14 </td><td>J. Ator </td><td>Add declaration for CREF </td></tr>
<tr>
<td>2007-01-19 </td><td>J. Ator </td><td>Replaced call to parseq with call to <a class="el" href="parstr_8f.html#a3379a342ab3d92dd01eef1f3172f9b86" title="THIS SUBROUTINE PARSES A STRING CONTAINING ONE OR MORE SUBSTRINGS INTO AN ARRAY OF SUBSTRINGS...">parstr()</a> </td></tr>
<tr>
<td>2009-04-21 </td><td>J. Ator </td><td>Use <a class="el" href="errwrt_8f.html#a65626d9a772648676146b62b596c2764" title="This subroutine allows the user to specify a custom location for the logging of error and diagnostic ...">errwrt()</a> </td></tr>
<tr>
<td>2009-12-01 </td><td>J. Ator </td><td>Fix bug for compressed character strings which are identical across all subsets in a single messagE </td></tr>
<tr>
<td>2010-05-07 </td><td>J. Ator </td><td>When calling <a class="el" href="ireadmg_8f.html#a08c0eaaa7c6f555ccdceb404772dd962" title="This function calls BUFRLIB subroutine readmg() and passes back its return code as the function value...">ireadmg()</a>, treat read error as EOF condition </td></tr>
<tr>
<td>2012-03-02 </td><td>J. Ator </td><td>Use function <a class="el" href="ups_8f.html#a56875172e70c1f81f415ff777b239168" title="THIS FUNCTION UNPACKS A REAL*8 USER VALUE FROM A PACKED BUFR INTEGER BY APPLYING THE PROPER SCALE AND...">ups()</a> </td></tr>
<tr>
<td>2012-09-15 </td><td>J. Woollen </td><td>Modified for C/I/O/BUFR interface; added IO type 'INX' to enable open and close for C file without closing FORTRAN file </td></tr>
<tr>
<td>2014-11-20 </td><td>J. Ator </td><td>Ensure <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations. ">openbf()</a> has been called at least once before calling <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336" title="This subroutine checks whether a specified Fortran logical unit number is currently connected to the ...">status()</a> </td></tr>
<tr>
<td>2014-12-10 </td><td>J. Ator </td><td>Use modules instead of COMMON blocks </td></tr>
<tr>
<td>2016-12-19 </td><td>J. Woollen </td><td>Fix bug to prevent inventory overflow </td></tr>
</table>

<p>Definition at line <a class="el" href="ufbtab_8f_source.html#l00080">80</a> of file <a class="el" href="ufbtab_8f_source.html">ufbtab.f</a>.</p>

<p>References <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="closbf_8f.html#a00c94986037d2cf27d04de7a1f8a3ebc">closbf()</a>, <a class="el" href="errwrt_8f.html#a65626d9a772648676146b62b596c2764">errwrt()</a>, <a class="el" href="ireadmg_8f.html#a08c0eaaa7c6f555ccdceb404772dd962">ireadmg()</a>, <a class="el" href="ireadsb_8f.html#a28f7e78017ef9f00dcce7fb2c0bbab28">ireadsb()</a>, <a class="el" href="mesgbc_8f.html#a7c19b0b932b32b59a6bf5f3c8a809617">mesgbc()</a>, <a class="el" href="nmsub_8f.html#a536bd3da0a5f7305e5e1e12b6654967d">nmsub()</a>, <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28">openbf()</a>, <a class="el" href="parstr_8f.html#a3379a342ab3d92dd01eef1f3172f9b86">parstr()</a>, <a class="el" href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96">rewnbf()</a>, <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336">status()</a>, <a class="el" href="string_8f.html#ad5386a1e671ead372f1c087994b68438">string()</a>, <a class="el" href="upb_8f.html#aae09b58b06877db63e95889f67c146c0">upb()</a>, <a class="el" href="upbb_8f.html#a92f5b8055d7eae17ed04e1300e741a39">upbb()</a>, <a class="el" href="upc_8f.html#ae2afdf50d0bf4063426faeae29515208">upc()</a>, <a class="el" href="ups_8f.html#a56875172e70c1f81f415ff777b239168">ups()</a>, and <a class="el" href="usrtpl_8f.html#a677bf700a4a6f0626a41921cd66d8ed9">usrtpl()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="ufbtab_8f.html">ufbtab.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
