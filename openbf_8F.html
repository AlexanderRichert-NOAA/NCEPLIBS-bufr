<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: openbf.F File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bufr
   &#160;<span id="projectnumber">11.3.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('openbf_8F.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">openbf.F File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="openbf_8F_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a9bea9aeada166bd9037b959ca8452b28"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openbf_8F.html#a9bea9aeada166bd9037b959ca8452b28">openbf</a> (LUNIT, IO, LUNDX)</td></tr>
<tr class="memdesc:a9bea9aeada166bd9037b959ca8452b28"><td class="mdescLeft">&#160;</td><td class="mdescRight">THIS SUBROUTINE NORMALLY (I.E.  <a href="openbf_8F.html#a9bea9aeada166bd9037b959ca8452b28">More...</a><br /></td></tr>
<tr class="separator:a9bea9aeada166bd9037b959ca8452b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition in file <a class="el" href="openbf_8F_source.html">openbf.F</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a9bea9aeada166bd9037b959ca8452b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bea9aeada166bd9037b959ca8452b28">&#9670;&nbsp;</a></span>openbf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine openbf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*)&#160;</td>
          <td class="paramname"><em>IO</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNDX</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THIS SUBROUTINE NORMALLY (I.E. </p>
<p>EXCEPT WHEN INPUT ARGUMENT IO IS 'QUIET') IDENTIFIES A NEW LOGICAL UNIT TO THE BUFR ARCHIVE LIBRARY SOFTWARE FOR INPUT OR OUTPUT OPERATIONS. HOWEVER, THE FIRST TIME IT IS CALLED, IT ALSO FIGURES OUT SOME IMPORTANT INFORMATION ABOUT THE LOCAL MACHINE ON WHICH THE SOFTWARE IS BEING RUN (VIA A CALL TO BUFR ARCHIVE LIBRARY SUBROUTINE WRDLEN), AND IT ALSO INITIALIZES ARRAYS IN MANY BUFR ARCHIVE LIBRARY COMMON BLOCKS (VIA A CALL TO BUFR ARCHIVE LIBRARY SUBROUTINE BFRINI). UP TO 32 LOGICAL UNITS CAN BE CONNECTED TO THE BUFR ARCHIVE LIBRARY SOFTWARE AT ANY ONE TIME.</p>
<p>NOTE: IF IO IS PASSED IN AS 'QUIET', THEN OPENBF PERFORMS ONLY ONE FUNCTION - IT SIMPLY SETS THE "DEGREE OF PRINTOUT" SWITCH IPRT (IN COMMON BLOCK /QUIET/) TO THE VALUE OF INPUT ARGUMENT LUNDX, OVERRIDING ITS PREVIOUS VALUE. A DEFAULT IPRT VALUE OF 0 (I.E. "LIMITED PRINTOUT") IS SET DURING THE FIRST CALL TO THIS ROUTINE, BUT THIS OR ANY OTHER IPRT VALUE MAY BE SET AND RESET AS OFTEN AS DESIRED VIA SUCCESSIVE CALLS TO OPENBF WITH IO = 'QUIET'. IN ALL SUCH CASES, OPENBF SIMPLY (RE)SETS IPRT AND THEN RETURNS WITHOUT ACTUALLY OPENING ANY FILES. THE DEGREE OF PRINTOUT INCREASES AS IPRT INCREASES FROM "-1" TO "0" TO "1" TO "2".</p>
<p>PROGRAM HISTORY LOG: 1994-01-06 J. WOOLLEN &ndash; ORIGINAL AUTHOR 1998-07-08 J. WOOLLEN &ndash; REPLACED CALL TO CRAY LIBRARY ROUTINE "ABORT" WITH CALL TO NEW INTERNAL BUFRLIB ROUTINE "BORT" 1999-11-18 J. WOOLLEN &ndash; THE NUMBER OF BUFR FILES WHICH CAN BE OPENED AT ONE TIME INCREASED FROM 10 TO 32 (NECESSARY IN ORDER TO PROCESS MULTIPLE BUFR FILES UNDER THE MPI) 2003-11-04 J. ATOR &ndash; ADDED IO='NUL' OPTION IN ORDER TO PREVENT LATER WRITING TO BUFR FILE IN LUNIT (WAS IN DECODER VERSION); ADDED DOCUMENTATION 2003-11-04 S. BENDER &ndash; ADDED REMARKS/BUFRLIB ROUTINE INTERDEPENDENCIES 2003-11-04 D. KEYSER &ndash; UNIFIED/PORTABLE FOR WRF; ADDED HISTORY DOCUMENTATION; OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY, UNUSUAL THINGS HAPPEN OR FOR INFORMATIONAL PURPOSES 2004-08-18 J. ATOR &ndash; ADDED SAVE FOR IFIRST FLAG AND IO="NODX" OPTION 2005-11-29 J. ATOR &ndash; ADDED COMMON /MSGFMT/ AND ICHKSTR CALL 2009-03-23 J. ATOR &ndash; ADDED IO='SEC3' OPTION; REMOVED CALL TO POSAPN; CLARIFIED COMMENTS; USE ERRWRT 2010-05-11 J. ATOR &ndash; ADDED COMMON /STCODE/ 2012-06-18 J. ATOR &ndash; ADDED IO='INUL' OPTION 2012-09-15 J. WOOLLEN &ndash; MODIFIED FOR C/I/O/BUFR INTERFACE; USE INQUIRE TO OBTAIN THE FILENAME; CALL C ROUTINES OPENRB, OPENWB, AND OPENAB TO CONNECT BUFR FILES TO C; ADDED IO TYPE 'INX' TO ENABLE OPEN AND CLOSE FOR C FILE WITHOUT CLOSING FORTRAN FILE; ADD IO TYPE 'FIRST' TO SUPPORT CALLS <br  />
 TO BFRINI AND WRDLEN PRIOR TO USER RESET OF BUFRLIB PARAMETERS FOUND IN NEW ROUTINES SETBMISS AND SETBLOCK 2014-11-07 J. ATOR &ndash; ALLOW DYNAMIC ALLOCATION OF CERTAIN ARRAYS 2015-03-03 J. ATOR &ndash; USE MODA_IFOPBF INSTEAD OF IFIRST</p>
<p>USAGE: CALL OPENBF (LUNIT, IO, LUNDX) INPUT ARGUMENT LIST: LUNIT - INTEGER: FORTRAN LOGICAL UNIT NUMBER FOR BUFR FILE (UNLESS IO IS 'QUIET', THEN A DUMMY) IO - CHARACTER*(*): FLAG INDICATING HOW LUNIT IS TO BE USED BY THE SOFTWARE: 'IN' = input operations with table processing 'INX' = input operations w/o table processing 'OUX' = output operations w/o table processing 'OUT' = output operations with table processing 'SEC3' = same as 'IN', except use Section 3 of input messages for decoding rather than dictionary table information from LUNDX; in this case LUNDX is ignored, and user must provide appropriate BUFR master tables within directory specified by a subsequent call to subroutine MTINFO 'NODX' = same as 'OUT', except don't write dictionary (i.e. DX) table messages to LUNIT 'APN' = same as 'NODX', except begin writing at end of file ("append") 'APX' = same as 'APN', except backspace before appending 'NUL' = same as 'OUT', except don't write any messages whatsoever to LUNIT (e.g. when subroutine WRITSA is to be used) 'INUL' = same as 'IN', except don't read any messages whatsoever from LUNIT (e.g. when subroutine READERME is to be used) 'QUIET' = LUNIT is ignored, this is an indicator that the value for IPRT in COMMON block /QUIET/ is being reset (see LUNDX) 'FIRST' = calls bfrini and wrdlen as a prelude to user LUNDX - INTEGER: IF IO IS NOT 'QUIET': FORTRAN logical unit number containing dictionary table information to be used in reading/writing from/to LUNIT (depending on the case); may be set equal to LUNIT if dictionary table information is already embedded in LUNIT IF IO IS 'QUIET': Indicator for degree of printout: -1 = NO printout except for ABORT messages 0 = LIMITED printout (default) 1 = ALL warning messages are printed out 2 = ALL warning AND informational messages are printed out (Note: this does not change until OPENBF is again called with IO equal to 'QUIET')</p>
<p>INPUT FILES: UNIT "LUNIT" - BUFR FILE</p>
<p>REMARKS: THIS ROUTINE CALLS: ARALLOCC ARALLOCF BFRINI BORT DXINIT ERRWRT POSAPX READDX STATUS WRDLEN WRITDX WTSTAT OPENRB OPENWB OPENAB THIS ROUTINE IS CALLED BY: COPYBF GETBMISS IGETMXBY MESGBC MESGBF PKVS01 RDMGSB UFBINX UFBMEM UFBMEX UFBTAB SETBMISS SETBLOCK Also called by application programs. </p>

<p class="definition">Definition at line <a class="el" href="openbf_8F_source.html#l00135">135</a> of file <a class="el" href="openbf_8F_source.html">openbf.F</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="openbf_8F.html">openbf.F</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
